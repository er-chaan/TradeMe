<div class="content-wrapper">
    <section class="content-header">
        <h1>InPlay</h1>
    </section>
    <section class="content">
      <div class="box box-default">
          <div class="box-header with-border">
            <h3 class="box-title">Trades</h3>
          </div>
          <div class="box-body">
            <div class="row">
              <div class="col-md-4">
                  <select id="stockList" class="select2" style="width: 100%;" data-placeholder="Select a Stock">
                    <option selected value=""></option>
                    <option *ngFor="let item of stockList" value="{{item.Code}}">{{item.Name}}</option>
                  </select> &nbsp;&nbsp; 
                  <button  style="width: 100%;" class="btn btn-primary btn-sm" (click)="getStockStatus()">GO</button> <br>
                  <div class="visible-xs"><br></div>
              </div>
              <div class="col-md-8">
                <!-- <div *ngIf="selectedStock"> --><div>
                  <!-- <div class="box-header with-border">
                    <h3 class="box-title">{{selectedStock}}</h3>
                  </div> -->
                  <div class="col-md-12 table-responsive">
                      <table class="table table-bordered text-center">
                          <tr>
                            <th>Symbol</th>
                            <th>Price</th>
                            <th>Change</th>
                          </tr>
                          <tr *ngIf="stockStatus">
                            <td>{{selectedStockOption}}</td>
                            <td>{{stockStatus.LastTradedPrice}}</td>
                            <td>{{stockStatus.Change}}</td>
                          </tr>
                      </table>
                  </div>
                  <div class="col-md-12 text-center">
                      <button class="btn btn-md btn-success" (click)="buy()" [disabled]="!stockStatus">BUY</button> &nbsp;&nbsp;
                          <input id="quantity" type="text" class="forn-control" [disabled]="!stockStatus" placeholder="Trade Quantity" style="width: 100px"> &nbsp;&nbsp; 
                      <button class="btn btn-md btn-danger" (click)="sell()" [disabled]="!stockStatus">SELL</button> &nbsp;&nbsp;
                  </div>
                </div>
              </div>
            </div>
            <br><br>
            <div class="row">
              <div class="col-md-12">
                <div class="box-body table-responsive">
                  <div class="col-md-12 text-center" [ngClass]="(totalNet > -0.01)?'text-success':'text-danger'">
                    <h3>{{ totalNet |  number : '1.2-2'}}</h3>
                  </div>
                  <!-- <table id="transactionBook" class="table table-bordered table-striped" > -->
                  <table class="table table-bordered table-striped" >
                    <thead>
                    <tr>
                      <th>Symbol</th>
                      <th class="hidden-xs">Call</th>
                      <th>Price</th>
                      <th>Qty</th>
                      <th>CMP</th>
                      <th>Net</th>
                      <th class="hidden-xs">Status</th>
                      <th>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let t of tradeBookData;trackBy:identify;" [ngClass]="(t.net > -0.01)?'text-success':'text-danger'">
                        <td>{{t.symbol}}</td>
                        <td class="hidden-xs">{{t.called}}</td>
                        <td>{{t.price}}</td>
                        <td>{{t.quantity}}</td>
                        <!-- <td>{{ t.symbol | cmp }}</td> -->
                        <td>{{ t.cmp }}</td>
                        <td>{{ t.net * t.quantity }}</td>
                        <td class="hidden-xs">{{t.status}}</td>
                        <td><button class="btn btn-sm btn-warning" (click)="exitTrade(t.id)">EXIT</button></td>
                      </tr>
                    </tbody> 
                    <tfoot>
                    <!-- <tr>
                      <th>TID</th>
                      <th>Description</th>
                      <th>Date</th>
                      <th>Debit</th>
                      <th>Credit</th>
                      <th>Balance</th>
                    </tr> -->
                    </tfoot>
                  </table>
                </div>
              </div>
            </div>
          </div>
      </div>
    </section>
</div>
